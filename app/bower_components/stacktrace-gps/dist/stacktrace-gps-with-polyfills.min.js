(function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function r(e){Z=e}function o(e){H=e}function i(){return function(){process.nextTick(f)}}function u(){return function(){U(f)}}function s(){var e=0,t=new W(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=f,function(){e.port2.postMessage(0)}}function a(){return function(){setTimeout(f,1)}}function f(){for(var e=0;Y>e;e+=2){var t=J[e],n=J[e+1];t(n),J[e]=void 0,J[e+1]=void 0}Y=0}function l(){try{var e=require,t=e("vertx");return U=t.runOnLoop||t.runOnContext,u()}catch(n){return a()}}function h(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function d(e){try{return e.then}catch(t){return te.error=t,te}}function b(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function v(e,t,n){H(function(e){var r=!1,o=b(n,t,function(n){r||(r=!0,t!==n?_(e,n):N(e,n))},function(t){r||(r=!0,A(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,A(e,o))},e)}function g(e,t){t._state===V?N(e,t._result):t._state===ee?A(e,t._result):S(t,void 0,function(t){_(e,t)},function(t){A(e,t)})}function y(e,n){if(n.constructor===e.constructor)g(e,n);else{var r=d(n);r===te?A(e,te.error):void 0===r?N(e,n):t(r)?v(e,n,r):N(e,n)}}function _(t,n){t===n?A(t,m()):e(n)?y(t,n):N(t,n)}function w(e){e._onerror&&e._onerror(e._result),E(e)}function N(e,t){e._state===Q&&(e._result=t,e._state=V,0!==e._subscribers.length&&H(E,e))}function A(e,t){e._state===Q&&(e._state=ee,e._result=t,H(w,e))}function S(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+V]=n,o[i+ee]=r,0===i&&e._state&&H(E,e)}function E(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o,i=e._result,u=0;u<t.length;u+=3)r=t[u],o=t[u+n],r?F(n,r,o,i):o(i);e._subscribers.length=0}}function j(){this.error=null}function C(e,t){try{return e(t)}catch(n){return ne.error=n,ne}}function F(e,n,r,o){var i,u,s,c,a=t(r);if(a){if(i=C(r,o),i===ne?(c=!0,u=i.error,i=null):s=!0,n===i)return void A(n,p())}else i=o,s=!0;n._state!==Q||(a&&s?_(n,i):c?A(n,u):e===V?N(n,i):e===ee&&A(n,i))}function T(e,t){try{t(function(t){_(e,t)},function(t){A(e,t)})}catch(n){A(e,n)}}function x(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(h),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?N(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&N(n.promise,n._result))):A(n.promise,n._validationError())}function P(e){return new re(this,e).promise}function M(e){function t(e){_(o,e)}function n(e){A(o,e)}var r=this,o=new r(h);if(!R(e))return A(o,new TypeError("You must pass an array to race.")),o;for(var i=e.length,u=0;o._state===Q&&i>u;u++)S(r.resolve(e[u]),void 0,t,n);return o}function k(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(h);return _(n,e),n}function L(e){var t=this,n=new t(h);return A(n,e),n}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function G(e){this._id=ce++,this._state=void 0,this._result=void 0,this._subscribers=[],h!==e&&(t(e)||O(),this instanceof G||q(),T(this,e))}function $(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=ae)}var z;z=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var U,Z,I,R=z,Y=0,H=({}.toString,function(e,t){J[Y]=e,J[Y+1]=t,Y+=2,2===Y&&(Z?Z(f):I())}),D="undefined"!=typeof window?window:void 0,K=D||{},W=K.MutationObserver||K.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),B="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,J=new Array(1e3);I=X?i():W?s():B?c():void 0===D&&"function"==typeof require?l():a();var Q=void 0,V=1,ee=2,te=new j,ne=new j;x.prototype._validateInput=function(e){return R(e)},x.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},x.prototype._init=function(){this._result=new Array(this.length)};var re=x;x.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,o=0;n._state===Q&&t>o;o++)e._eachEntry(r[o],o)},x.prototype._eachEntry=function(e,t){var r=this,o=r._instanceConstructor;n(e)?e.constructor===o&&e._state!==Q?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(o.resolve(e),t):(r._remaining--,r._result[t]=e)},x.prototype._settledAt=function(e,t,n){var r=this,o=r.promise;o._state===Q&&(r._remaining--,e===ee?A(o,n):r._result[t]=n),0===r._remaining&&N(o,r._result)},x.prototype._willSettleAt=function(e,t){var n=this;S(e,void 0,function(e){n._settledAt(V,t,e)},function(e){n._settledAt(ee,t,e)})};var oe=P,ie=M,ue=k,se=L,ce=0,ae=G;G.all=oe,G.race=ie,G.resolve=ue,G.reject=se,G._setScheduler=r,G._setAsap=o,G._asap=H,G.prototype={constructor:G,then:function(e,t){var n=this,r=n._state;if(r===V&&!e||r===ee&&!t)return this;var o=new this.constructor(h),i=n._result;if(r){var u=arguments[r-1];H(function(){F(r,o,u,i)})}else S(n,o,e,t);return o},"catch":function(e){return this.then(null,e)}};var fe=$,le={Promise:ae,polyfill:fe};"function"==typeof define&&define.amd?define(function(){return le}):"undefined"!=typeof module&&module.exports?module.exports=le:"undefined"!=typeof this&&(this.ES6Promise=le),fe()}).call(this),function(){"undefined"==typeof Promise&&ES6Promise.polyfill()}(),function(e,t){"use strict";"function"==typeof define&&define.amd?define("stackframe",[],t):"object"==typeof exports?module.exports=t():e.StackFrame=t()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,n,r,o,i){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){var t=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",o=e(this.getLineNumber())?":"+this.getLineNumber():"",i=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+n+r+o+i}},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","stackframe"],t):"object"==typeof exports?module.exports=t(require("source-map/lib/source-map-consumer"),require("stackframe")):e.StackTraceGPS=t(e.SourceMap,e.StackFrame)}(this,function(e,t){"use strict";function n(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("get",e),r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?t(r.responseText):n(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()})}function r(e,t,n){for(var r,o,i,u=/function\s+([^(]*?)\s*\(([^)]*)\)/,s=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,c=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,a=e.split("\n"),f="",l=Math.min(t,20),h=0;l>h;++h)if(r=a[t-h-1],i=r.indexOf("//"),i>=0&&(r=r.substr(0,i)),r){if(f=r+f,o=s.exec(f),o&&o[1])return o[1];if(o=u.exec(f),o&&o[1])return o[1];if(o=c.exec(f),o&&o[1])return o[1]}return void 0}function o(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function i(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!==0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!==0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function u(e){var t=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/.exec(e);if(t&&t[1])return t[1];throw new Error("sourceMappingURL not found")}function s(n,r,o,i,u){var s=new e.SourceMapConsumer(n),c=s.originalPositionFor({line:o,column:i}),a=s.sourceContentFor(c.source);return a&&(u[c.source]=a),new t(c.name,r,c.source,c.line,c.column)}return function c(e){return this instanceof c?(e=e||{},this.sourceCache=e.sourceCache||{},this.ajax=n,this._get=function(t){return new Promise(function(n,r){var o="data:"===t.substr(0,5);if(this.sourceCache[t])n(this.sourceCache[t]);else if(e.offline&&!o)r(new Error("Cannot make network requests in offline mode"));else if(o){var i="application/json;base64";if(t.substr(5,i.length)!==i)r(new Error("The encoding of the inline sourcemap is not supported"));else{var u="data:".length+i.length+",".length,s=t.substr(u),c=window.atob(s);this.sourceCache[t]=c,n(c)}}else{var a=this.ajax(t,{method:"get"});this.sourceCache[t]=a,a.then(n,r)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n)["catch"](n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,o){i(e),this._get(e.fileName).then(function(o){var i=r(o,e.lineNumber,e.columnNumber);n(new t(i,e.args,e.fileName,e.lineNumber,e.columnNumber))},o)["catch"](o)}.bind(this))},void(this.getMappedLocation=function(e){return new Promise(function(t,n){o(),i(e);var r=this.sourceCache,c=e.fileName;this._get(c).then(function(o){var i=u(o),a="data:"===i.substr(0,5);"/"===i[0]||a||(i=c.substring(0,c.lastIndexOf("/")+1)+i),this._get(i).then(function(n){var o=e.lineNumber,i=e.columnNumber;t(s(n,e.args,o,i,r))},n)["catch"](n)}.bind(this),n)["catch"](n)}.bind(this))})):new c(e)}});
//# sourceMappingURL=stacktrace-gps-with-polyfills.min.js.map

!function(e,t){"use strict";"function"==typeof define&&define.amd?define("stackframe",[],t):"object"==typeof exports?module.exports=t():e.StackFrame=t()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,n,r,i,o){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==i&&this.setColumnNumber(i),void 0!==o&&this.setSource(o)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){var t=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",i=e(this.getLineNumber())?":"+this.getLineNumber():"",o=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+n+r+i+o}},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","stackframe"],t):"object"==typeof exports?module.exports=t(require("source-map/lib/source-map-consumer"),require("stackframe")):e.StackTraceGPS=t(e.SourceMap,e.StackFrame)}(this,function(e,t){"use strict";function n(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("get",e),r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?t(r.responseText):n(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()})}function r(e,t,n){for(var r,i,o,u=/function\s+([^(]*?)\s*\(([^)]*)\)/,s=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,c=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,a=e.split("\n"),m="",f=Math.min(t,20),h=0;f>h;++h)if(r=a[t-h-1],o=r.indexOf("//"),o>=0&&(r=r.substr(0,o)),r){if(m=r+m,i=s.exec(m),i&&i[1])return i[1];if(i=u.exec(m),i&&i[1])return i[1];if(i=c.exec(m),i&&i[1])return i[1]}return void 0}function i(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function o(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!==0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!==0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function u(e){var t=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/.exec(e);if(t&&t[1])return t[1];throw new Error("sourceMappingURL not found")}function s(n,r,i,o,u){var s=new e.SourceMapConsumer(n),c=s.originalPositionFor({line:i,column:o}),a=s.sourceContentFor(c.source);return a&&(u[c.source]=a),new t(c.name,r,c.source,c.line,c.column)}return function c(e){return this instanceof c?(e=e||{},this.sourceCache=e.sourceCache||{},this.ajax=n,this._get=function(t){return new Promise(function(n,r){var i="data:"===t.substr(0,5);if(this.sourceCache[t])n(this.sourceCache[t]);else if(e.offline&&!i)r(new Error("Cannot make network requests in offline mode"));else if(i){var o="application/json;base64";if(t.substr(5,o.length)!==o)r(new Error("The encoding of the inline sourcemap is not supported"));else{var u="data:".length+o.length+",".length,s=t.substr(u),c=window.atob(s);this.sourceCache[t]=c,n(c)}}else{var a=this.ajax(t,{method:"get"});this.sourceCache[t]=a,a.then(n,r)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n)["catch"](n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,i){o(e),this._get(e.fileName).then(function(i){var o=r(i,e.lineNumber,e.columnNumber);n(new t(o,e.args,e.fileName,e.lineNumber,e.columnNumber))},i)["catch"](i)}.bind(this))},void(this.getMappedLocation=function(e){return new Promise(function(t,n){i(),o(e);var r=this.sourceCache,c=e.fileName;this._get(c).then(function(i){var o=u(i),a="data:"===o.substr(0,5);"/"===o[0]||a||(o=c.substring(0,c.lastIndexOf("/")+1)+o),this._get(o).then(function(n){var i=e.lineNumber,o=e.columnNumber;t(s(n,e.args,i,o,r))},n)["catch"](n)}.bind(this),n)["catch"](n)}.bind(this))})):new c(e)}});
//# sourceMappingURL=stacktrace-gps.min.js.map
